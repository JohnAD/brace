#!/lang/b
use b
Main()
	gr_exit = 1
	space()
	gr_fast()
	with_pixel_type(test_x11_poke)

def test_x11_poke(pixel_type)
	bm_start()
	pixel_type *px = pixel()
	for(y, -h_2, h_2)
		for(x, -w_2, w_2)
			point(x, y)
	bm_ps("plotted pixels through X11")
	bm_start()
	for(y, -h_2, h_2)
		for(x, -w_2, w_2)
			*px++ = 123456 #point(x, y)
	bm_ps("poked pixels")
	Paint()
